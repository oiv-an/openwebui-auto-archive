# OpenWebUI Auto Archive (Tampermonkey)

## RU

Tampermonkey-—Å–∫—Ä–∏–ø—Ç –¥–ª—è **–º–∞—Å—Å–æ–≤–æ–π –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏ —á–∞—Ç–æ–≤** –≤ OpenWebUI —á–µ—Ä–µ–∑ UI: –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–µ–Ω—é (—Ç—Ä–∏ —Ç–æ—á–∫–∏) —É –∫–∞–∂–¥–æ–≥–æ —á–∞—Ç–∞ –∏ –Ω–∞–∂–∏–º–∞–µ—Ç **¬´–ê—Ä—Ö–∏–≤¬ª**.

–¶–µ–ª—å: –±—ã—Å—Ç—Ä–æ –æ—á–∏—Å—Ç–∏—Ç—å –ª–µ–≤—É—é –∫–æ–ª–æ–Ω–∫—É –∏—Å—Ç–æ—Ä–∏–∏, –æ—Ç–ø—Ä–∞–≤–∏–≤ –≤ –∞—Ä—Ö–∏–≤ **—á–∞—Ç—ã –∏–∑ ‚Äú–ü—Ä–µ–¥—ã–¥—É—â–∏–µ 30 –¥–Ω–µ–π‚Äù –∏ —Å–µ–∫—Ü–∏–π –ø–æ –º–µ—Å—è—Ü–∞–º –Ω–∏–∂–µ**.

### –ê–≤—Ç–æ—Ä—ã

- Ivan Olyanskiy
- Assisted by ChatGPT 5.2

### –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**openwebui-auto-archive** ‚Äî –∫–æ—Ä–æ—Ç–∫–æ –∏ –ø–æ –¥–µ–ª—É.

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç

- –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ OpenWebUI –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–ª–∞–≤–∞—é—â—É—é –∫–Ω–æ–ø–∫—É **¬´üì¶ Archive: old (30d + months)¬ª**.
- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ:
  - –Ω–∞—Ö–æ–¥–∏—Ç —Å–µ–∫—Ü–∏—é **¬´–ü—Ä–µ–¥—ã–¥—É—â–∏–µ 30 –¥–Ω–µ–π¬ª** –≤ –ª–µ–≤–æ–º —Å–∞–π–¥–±–∞—Ä–µ (–µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å),
  - –µ—Å–ª–∏ —Å–µ–∫—Ü–∏–∏ ‚Äú–ü—Ä–µ–¥—ã–¥—É—â–∏–µ 30 –¥–Ω–µ–π‚Äù —É–∂–µ –Ω–µ—Ç ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ —Å–µ–∫—Ü–∏—è–º-–º–µ—Å—è—Ü–∞–º (–û–∫—Ç—è–±—Ä—å/–ù–æ—è–±—Ä—å/‚Ä¶),
  - –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —á–∞—Ç–∞: –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–µ–Ω—é ‚Üí –∂–º—ë—Ç **¬´–ê—Ä—Ö–∏–≤¬ª**,
  - –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è (—á—Ç–æ–±—ã –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã).

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –£—Å—Ç–∞–Ω–æ–≤–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ Tampermonkey:
   - https://www.tampermonkey.net/

2. –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π userscript:
   - Tampermonkey ‚Üí **Create a new script**

3. –°–∫–æ–ø–∏—Ä—É–π —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ [`index.js`](index.js) –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä Tampermonkey.

4. –í —Å–∞–º–æ–º –≤–µ—Ä—Ö—É userscript (–≤ —à–∞–ø–∫–µ) –∑–∞–º–µ–Ω–∏ —Å—Ç—Ä–æ–∫—É:
   - `// @match        https://YOUR-OPENWEBUI-DOMAIN/*`
   –Ω–∞ —Å–≤–æ–π –¥–æ–º–µ–Ω OpenWebUI, –Ω–∞–ø—Ä–∏–º–µ—Ä:
   - `// @match        https://openwebui.example.com/*`

5. –°–æ—Ö—Ä–∞–Ω–∏ —Å–∫—Ä–∏–ø—Ç (Ctrl+S).

6. –û—Ç–∫—Ä–æ–π —Å–≤–æ–π OpenWebUI (—Ç–æ—Ç –¥–æ–º–µ–Ω, –≥–¥–µ –æ–Ω —É —Ç–µ–±—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω).

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π –ª–µ–≤—ã–π —Å–∞–π–¥–±–∞—Ä —Å–æ —Å–ø–∏—Å–∫–æ–º —á–∞—Ç–æ–≤.
2. –ü—Ä–æ–∫—Ä—É—Ç–∏ —Ç–∞–∫, —á—Ç–æ–±—ã –ø—Ä–æ–≥—Ä—É–∑–∏–ª–∏—Å—å —Å–µ–∫—Ü–∏–∏ –ø–æ –º–µ—Å—è—Ü–∞–º (–∏ ‚Äú–ü—Ä–µ–¥—ã–¥—É—â–∏–µ 30 –¥–Ω–µ–π‚Äù, –µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å).
3. –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É **¬´üì¶ Archive: old (30d + months)¬ª**.
4. –ß—Ç–æ–±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å ‚Äî –Ω–∞–∂–º–∏ **¬´‚õî Stop¬ª**.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏

–í–≤–µ—Ä—Ö—É —Ñ–∞–π–ª–∞ [`index.js`](index.js) –µ—Å—Ç—å –æ–±—ä–µ–∫—Ç `CFG`:

- `delayBetweenChatsMs` ‚Äî –ø–∞—É–∑–∞ –º–µ–∂–¥—É —á–∞—Ç–∞–º–∏
- `delayAfterMenuOpenMs` ‚Äî –ø–∞—É–∑–∞ –ø–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –º–µ–Ω—é
- `delayAfterArchiveClickMs` ‚Äî –ø–∞—É–∑–∞ –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞ ¬´–ê—Ä—Ö–∏–≤¬ª
- `maxChatsSafetyLimit` ‚Äî –ø—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É
- `debug` ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª—å

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è / –≤–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- –°–∫—Ä–∏–ø—Ç –∫–ª–∏–∫–∞–µ—Ç –ø–æ UI, –ø–æ—ç—Ç–æ–º—É –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–µ—Ä—Å—Ç–∫–∏ OpenWebUI.
- –ï—Å–ª–∏ OpenWebUI –æ–±–Ω–æ–≤–∏—Ç—Å—è –∏ –ø–æ–º–µ–Ω—è–µ—Ç –∫–ª–∞—Å—Å—ã/—Å—Ç—Ä—É–∫—Ç—É—Ä—É ‚Äî –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–∞–≤–∫–∞ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤.
- –°–∫—Ä–∏–ø—Ç –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç API, —Ç–æ–ª—å–∫–æ –∏–º–∏—Ç–∏—Ä—É–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

### –õ–∏—Ü–µ–Ω–∑–∏—è

MIT ‚Äî —Å–º. [`LICENSE`](LICENSE).

---

## EN

A Tampermonkey userscript for **bulk archiving chats** in OpenWebUI via the UI: it opens the chat menu (three dots) and clicks **‚ÄúArchive‚Äù**.

Goal: quickly clean up the left chat history sidebar by archiving **‚ÄúPrevious 30 days‚Äù and all month sections below**.

### Authors

- Ivan Olyanskiy
- Assisted by ChatGPT 5.2

### Project name

**openwebui-auto-archive** ‚Äî short and to the point.

### What it does

- Adds a floating button **‚Äúüì¶ Archive: old (30d + months)‚Äù** on the OpenWebUI page.
- When started:
  - targets chats in **‚ÄúPrevious 30 days‚Äù** (if present) and **month sections below** (e.g. November, October, ‚Ä¶),
  - if ‚ÄúPrevious 30 days‚Äù is missing, it automatically switches to **months-only** mode,
  - for each chat: opens the menu ‚Üí clicks **‚ÄúArchive‚Äù**,
  - re-reads the list after each action to avoid skipping items.

### Installation

1. Install Tampermonkey:
   - https://www.tampermonkey.net/

2. Create a new userscript:
   - Tampermonkey ‚Üí **Create a new script**

3. Copy the contents of [`index.js`](index.js) into the Tampermonkey editor.

4. At the very top of the userscript (header), replace:
   - `// @match        https://YOUR-OPENWEBUI-DOMAIN/*`
   with your OpenWebUI domain, for example:
   - `// @match        https://openwebui.example.com/*`

5. Save the script (Ctrl+S).

6. Open your OpenWebUI instance (the domain where you installed it).

### Usage

1. Open the left sidebar with the chat list.
2. Scroll so the month sections are loaded (and ‚ÄúPrevious 30 days‚Äù if it exists).
3. Click **‚Äúüì¶ Archive: old (30d + months)‚Äù**.
4. To stop, click **‚Äú‚õî Stop‚Äù**.

### Configuration

At the top of [`index.js`](index.js) there is a `CFG` object:

- `delayBetweenChatsMs` ‚Äî delay between chats
- `delayAfterMenuOpenMs` ‚Äî delay after opening the menu
- `delayAfterArchiveClickMs` ‚Äî delay after clicking ‚ÄúArchive‚Äù
- `maxChatsSafetyLimit` ‚Äî safety limit
- `debug` ‚Äî console logging

### Notes / limitations

- This script clicks the UI, so it depends on OpenWebUI DOM structure.
- If OpenWebUI updates and changes selectors/structure, the script may need adjustments.
- No API calls are used ‚Äî it only simulates user actions.

### License

MIT ‚Äî see [`LICENSE`](LICENSE).